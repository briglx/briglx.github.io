<?xml version="1.0" encoding="utf-8"?>

<feed xmlns="http://www.w3.org/2005/Atom" >
  <generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator>
  <link href="https://www.briglamoreaux.com/tag/minecraft/feed.xml" rel="self" type="application/atom+xml" />
  <link href="https://www.briglamoreaux.com/" rel="alternate" type="text/html" />
  <updated>2023-03-15T00:27:36+00:00</updated>
  <id>https://www.briglamoreaux.com/tag/minecraft/feed.xml</id>

  
  
  

  
    <title type="html">Brig Lamoreaux | </title>
  

  
    <subtitle>Long term storage for a forgetful mind</subtitle>
  

  

  
    
      
    
  

  
  

  
    <entry>
      <title type="html">Update Minecraft Server</title>
      <link href="https://www.briglamoreaux.com/2023/03/13/update-minecraft-server.html" rel="alternate" type="text/html" title="Update Minecraft Server" />
      <published>2023-03-13T00:00:00+00:00</published>
      <updated>2023-03-13T00:00:00+00:00</updated>
      <id>https://www.briglamoreaux.com/2023/03/13/update-minecraft-server</id>
      <content type="html" xml:base="https://www.briglamoreaux.com/2023/03/13/update-minecraft-server.html">&lt;p&gt;It’s that time of year again when I need to update the minecraft server but I forgot how.&lt;/p&gt;

&lt;p&gt;Looks like the installed version is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minecraft_server.1.19.2.jar&lt;/code&gt; and the latest is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minecraft_server.1.19.3.jar&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;c&quot;&gt;# Let's update the basics&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get update

&lt;span class=&quot;c&quot;&gt;# Stop current Server&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;systemctl stop minecraft.service

&lt;span class=&quot;c&quot;&gt;# Backup server&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;DATE_FORMAT&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;%F_%H-%M-%S&quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;TIMESTAMP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;date&lt;/span&gt; +&lt;span class=&quot;nv&quot;&gt;$DATE_FORMAT&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;SERVER_WORLDS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/srv/minecraft-server/world
&lt;span class=&quot;nv&quot;&gt;BACKUP_DIRECTORY&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/home/brlamore/minecraft/backups
&lt;span class=&quot;nv&quot;&gt;ARCHIVE_FILE_NAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$TIMESTAMP&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;.tar.gz&quot;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;ARCHIVE_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$BACKUP_DIRECTORY&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ARCHIVE_FILE_NAME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Create Backup folder&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;dirname&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ARCHIVE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Backup world&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-cf&lt;/span&gt; - &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;SERVER_WORLDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;gzip&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-cv&lt;/span&gt; -&lt;span class=&quot;s2&quot;&gt;&quot;3&quot;&lt;/span&gt; - &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ARCHIVE_PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; 2&amp;gt;&amp;gt; /dev/null

&lt;span class=&quot;c&quot;&gt;# Check status&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;EXIT_CODES&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PIPESTATUS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[@]&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Download 1.19 jar from https://www.minecraft.net/en-us/download/server&lt;/span&gt;
wget https://piston-data.mojang.com/v1/objects/8f3112a1049751cc472ec13e397eade5336ca7ae/server.jar

&lt;span class=&quot;nb&quot;&gt;sudo mkdir&lt;/span&gt; /srv/minecraft-server/versions/1.19.4
&lt;span class=&quot;nb&quot;&gt;sudo mv &lt;/span&gt;server.jar /srv/minecraft-server/versions/1.19.4/server.1.19.4.jar
&lt;span class=&quot;nb&quot;&gt;sudo mv&lt;/span&gt; /srv/minecraft-server/server.jar &lt;span class=&quot;s2&quot;&gt;&quot;/srv/minecraft-server/versions/old/server.old.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$TIMESTAMP&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;.jar&quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo cp&lt;/span&gt; /srv/minecraft-server/versions/1.19.4/server.1.19.4.jar /srv/minecraft-server/server.jar
&lt;span class=&quot;nb&quot;&gt;sudo chown&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; minecraft.minecraft /srv/minecraft-server

&lt;span class=&quot;c&quot;&gt;# Restart service&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;systemctl start minecraft.service

&lt;span class=&quot;c&quot;&gt;# Get status&lt;/span&gt;
systemctl status minecraft.service 

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content>

      
      
      
      
      

      <author>
          <name>Brig Lamoreaux</name>
        
        
      </author>

      

      
        <category term="cloud" />
      
        <category term="azure" />
      
        <category term="minecraft" />
      

      
        <summary type="html">It’s that time of year again when I need to update the minecraft server but I forgot how.</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">Minecraft Server</title>
      <link href="https://www.briglamoreaux.com/2022/07/31/minecraft-server.html" rel="alternate" type="text/html" title="Minecraft Server" />
      <published>2022-07-31T00:00:00+00:00</published>
      <updated>2022-07-31T00:00:00+00:00</updated>
      <id>https://www.briglamoreaux.com/2022/07/31/minecraft-server</id>
      <content type="html" xml:base="https://www.briglamoreaux.com/2022/07/31/minecraft-server.html">&lt;p&gt;Setting up minecraft on azure for fun.&lt;/p&gt;

&lt;p&gt;Setup Server&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;c&quot;&gt;# Create linux server&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# tbd script&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# ssh server ip&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Install Java&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt update &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt upgrade &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;openjdk-16-jre-headless

&lt;span class=&quot;c&quot;&gt;# Setup User and dir&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;adduser &lt;span class=&quot;nt&quot;&gt;--system&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--home&lt;/span&gt; /srv/minecraft-server minecraft
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;addgroup &lt;span class=&quot;nt&quot;&gt;--system&lt;/span&gt; minecraft
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;adduser minecraft minecraft &lt;span class=&quot;c&quot;&gt;# this adds user &quot;minecraft&quot; to the group &quot;minecraft&quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo chown&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; minecraft.minecraft /srv/minecraft-server

&lt;span class=&quot;c&quot;&gt;# Switch to user&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-H&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; minecraft bash
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /srv/minecraft-server

&lt;span class=&quot;c&quot;&gt;# Download 1.19 jar from https://www.minecraft.net/en-us/download/server&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#  wget https://launcher.mojang.com/v1/objects/e00c4052dac1d59a1188b2aa9d5a87113aaf1122/server.jar&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# mv server.jar minecraft_server.1.19.jar&lt;/span&gt;


&lt;span class=&quot;c&quot;&gt;# Create startup script&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;vi /etc/systemd/system/minecraft.service
&lt;span class=&quot;nb&quot;&gt;sudo chmod &lt;/span&gt;664 /etc/systemd/system/minecraft.service

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;Unit] 
&lt;span class=&quot;nv&quot;&gt;Description&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;start and stop the minecraft-server 

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;Service]
&lt;span class=&quot;nv&quot;&gt;WorkingDirectory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/srv/minecraft-server
&lt;span class=&quot;nv&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;minecraft
&lt;span class=&quot;nv&quot;&gt;Group&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;minecraft

&lt;span class=&quot;nv&quot;&gt;ExecStart&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/bin/java &lt;span class=&quot;nt&quot;&gt;-Xms10G&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Xmx10G&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:+UseG1GC &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:+ParallelRefProcEnabled &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:MaxGCPauseMillis&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;200 &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:+UnlockExperimentalVMOptions &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:+DisableExplicitGC &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:+AlwaysPreTouch &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:G1NewSizePercent&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;30 &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:G1MaxNewSizePercent&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;40 &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:G1HeapRegionSize&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;8M &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:G1ReservePercent&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;20 &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:G1HeapWastePercent&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;5 &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:G1MixedGCCountTarget&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;4 &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:InitiatingHeapOccupancyPercent&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;15 &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:G1MixedGCLiveThresholdPercent&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;90 &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:G1RSetUpdatingPauseTimePercent&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;5 &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:SurvivorRatio&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;32 &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:+PerfDisableSharedMem &lt;span class=&quot;nt&quot;&gt;-XX&lt;/span&gt;:MaxTenuringThreshold&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1 &lt;span class=&quot;nt&quot;&gt;-Dusing&lt;/span&gt;.aikars.flags&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;https://mcflags.emc.gs &lt;span class=&quot;nt&quot;&gt;-Daikars&lt;/span&gt;.new.flags&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-jar&lt;/span&gt; server.jar nogui

&lt;span class=&quot;nv&quot;&gt;Restart&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;on-failure
&lt;span class=&quot;nv&quot;&gt;RestartSec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;20 5

&lt;span class=&quot;nv&quot;&gt;StandardInput&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;null

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;Install]
&lt;span class=&quot;nv&quot;&gt;WantedBy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;multi-user.target

&lt;span class=&quot;c&quot;&gt;# ...&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Enable service&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;systemctl &lt;span class=&quot;nb&quot;&gt;enable &lt;/span&gt;minecraft.service

&lt;span class=&quot;c&quot;&gt;# Start service&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;systemctl start minecraft.service

&lt;span class=&quot;c&quot;&gt;# Get status&lt;/span&gt;
systemctl status minecraft.service 


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;references&quot;&gt;References&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;https://minecraft.fandom.com/wiki/Tutorials/Setting_up_a_server&lt;/li&gt;
  &lt;li&gt;Startup scripts https://gist.github.com/dotStart/ea0455714a0942474635&lt;/li&gt;
&lt;/ul&gt;</content>

      
      
      
      
      

      <author>
          <name>Brig Lamoreaux</name>
        
        
      </author>

      

      
        <category term="cloud" />
      
        <category term="azure" />
      
        <category term="minecraft" />
      

      
        <summary type="html">Setting up minecraft on azure for fun.</summary>
      

      
      
    </entry>
  
</feed>
