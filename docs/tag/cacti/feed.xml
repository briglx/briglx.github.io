<?xml version="1.0" encoding="utf-8"?>

<feed xmlns="http://www.w3.org/2005/Atom" >
  <generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator>
  <link href="https://www.briglamoreaux.com/tag/cacti/feed.xml" rel="self" type="application/atom+xml" />
  <link href="https://www.briglamoreaux.com/" rel="alternate" type="text/html" />
  <updated>2023-06-22T18:18:20+00:00</updated>
  <id>https://www.briglamoreaux.com/tag/cacti/feed.xml</id>

  
  
  

  
    <title type="html">Brig Lamoreaux | </title>
  

  
    <subtitle>Long term storage for a forgetful mind</subtitle>
  

  

  
    
      
    
  

  
  

  
    <entry>
      <title type="html">Getting Started with Cacti</title>
      <link href="https://www.briglamoreaux.com/2011/03/11/getting-started-with-cacti.html" rel="alternate" type="text/html" title="Getting Started with Cacti" />
      <published>2011-03-11T00:00:00+00:00</published>
      <updated>2011-03-11T00:00:00+00:00</updated>
      <id>https://www.briglamoreaux.com/2011/03/11/getting-started-with-cacti</id>
      <content type="html" xml:base="https://www.briglamoreaux.com/2011/03/11/getting-started-with-cacti.html">&lt;p&gt;I’m going to try this again. I’ve tried to install Cacti once before and had difficulty. Hopefully I can be more successful. I don’t know much about PHP so hopefully that won’t matter.&lt;/p&gt;

&lt;p&gt;These steps are a mix of my adventure and my attempt to document how to setup cacti on Oracle Enterprise Linux 5.5&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Install Required Packages&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;Run the commands
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;yum &lt;span class=&quot;nb&quot;&gt;install 
 sudo &lt;/span&gt;yum &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;httpd 
 &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;yum &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;php 
 &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;yum &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;php-mysql 
 &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;yum &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;php-snmp 
 &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;yum &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;mysql 
 &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;yum &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;mysql-server 
 &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;yum &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;net-snmp 
 &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;yum &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;net-snmp-utils
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Verify that httpd and mysqld&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;httpd and mysqld are configured for auto startup by default&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Configure PHP&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;Verify modules are loaded &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$ php -m&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;Trouble. When I run the command, I get a list of errors like the following for (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dbase.so&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gd.so&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ldap.so&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mysql.so&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mysqli.so&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pdo.so&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pdo_mysql.so&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pdo_sqlite.so&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;snmp.so&lt;/code&gt;)
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; PHP Startup: 
 Unable to load dynamic library /etc/php.d/msql.so: 
 cannot open shared object file: 
 No such file or directory &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;Unknown on line 0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;It’s looking for the file &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/php.d/msql.so&lt;/code&gt; but that file lives in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/lib64/php/modules/&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;Point where the modules are and restart apache
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; vi /etc/php.ini
 &lt;span class=&quot;c&quot;&gt;# Change the line to&lt;/span&gt;
 extension_dir &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/usr/lib64/php/modules&quot;&lt;/span&gt;
 &lt;span class=&quot;c&quot;&gt;# Restart apache&lt;/span&gt;
 /usr/sbin/apachectl stop 
 /usr/sbin/apachectl start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;More errors. I’m still getting the errors
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; PHP Warning: PHP Startup: 
 Unable to load dynamic library &lt;span class=&quot;s1&quot;&gt;'/usr/lib64/php/modules/msql.so'&lt;/span&gt; - 
 /usr/lib64/php/modules/msql.so: cannot open shared object file: 
 No such file or directory &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;Unknown on line 0 PHP Warning: 
 Module &lt;span class=&quot;s1&quot;&gt;'snmp'&lt;/span&gt; already loaded &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;Unknown on line 0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;Let’s look in php.ini.
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; ^#&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;ex /etc/php.ini 
 expose_php &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; On 
 &lt;span class=&quot;c&quot;&gt;#extension_dir = &quot;/etc/php.d&quot; &lt;/span&gt;
 extension_dir &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/usr/lib64/php/modules&quot;&lt;/span&gt; 
 &lt;span class=&quot;nv&quot;&gt;extension&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;msql.so 
 &lt;span class=&quot;nv&quot;&gt;extension&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;snmp.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;I see where I changed the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extension_dir&lt;/code&gt;. But I also see two explicit extensions. One for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;msql&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;snmp&lt;/code&gt;. Hmm those match my errors. I wonder if that could be the issue. I’m going to comment them out.&lt;/li&gt;
      &lt;li&gt;That got rid of the errors.&lt;/li&gt;
      &lt;li&gt;At this point running the command &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;php -m&lt;/code&gt; shows all the modules are loaded. I’m not too sure if PHP is configured properly though :(&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Configure Apache&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;Looks like it was already configured&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Configure MySql&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;Set Admin Password and Create Cacti Schema. (Replace &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MY_PASSWORD&lt;/code&gt; with whatever password you want)
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; mysqladmin &lt;span class=&quot;nt&quot;&gt;--user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;root password MY_PASSWORD 
 mysqladmin &lt;span class=&quot;nt&quot;&gt;--user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;root &lt;span class=&quot;nt&quot;&gt;--password&lt;/span&gt; reload 
 mysqladmin &lt;span class=&quot;nt&quot;&gt;--user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;root &lt;span class=&quot;nt&quot;&gt;--password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;MY_PASSWORD create cacti
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Install Cacti&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;Create new user
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; useradd cactiuser 
 groupadd cacti 
 usermod &lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-G&lt;/span&gt; cacti cactiuser
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;Setup Folder Structure
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; /opt/cacti 
 &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /opt/cacti 
 wget http://www.cacti.net/downloads/cacti-0.8.7g.tar.gz 
 &lt;span class=&quot;nb&quot;&gt;tar &lt;/span&gt;xzvf cacti-0.8.7g.tar.gz 
 &lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /opt/cacti/current/ /opt/cacti/cacti-0.8.7g 
 chomod cactiuser:cacti &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; /opt/cacti
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Verify Cacti Installation&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;Navigating to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://hostname/cacti/&lt;/code&gt; returned a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;404&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;Need to made a symbolic link
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /var/www/html/cacti /opt/cacti/current
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;Now when I navigate to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://hostname/cacti/&lt;/code&gt; I get the following error:
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; FATAL: Cannot connect to MySQL server on &lt;span class=&quot;s1&quot;&gt;'localhost'&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; 
 Please make sure you have specified a valid MySQL database name 
 &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'include/config.php'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;Looking at the file, I put the password in wrong. But I now see the Cacti Installation Screen. I’m so happy.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Cacti Web Installation Wizard&lt;/strong&gt;
    &lt;ul&gt;
      &lt;li&gt;I clicked next&lt;/li&gt;
      &lt;li&gt;Selected New installation&lt;/li&gt;
      &lt;li&gt;The next screen has a lot of invalid file paths. Really?
        &lt;ul&gt;
          &lt;li&gt;invalid path: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rrdtool&lt;/code&gt;&lt;/li&gt;
          &lt;li&gt;invalid path: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;snmpwalk&lt;/code&gt;&lt;/li&gt;
          &lt;li&gt;invalid path: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;snmpget&lt;/code&gt;&lt;/li&gt;
          &lt;li&gt;invalid path: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;snmpbulkwalk&lt;/code&gt;&lt;/li&gt;
          &lt;li&gt;invalid path: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;snmpgetnext&lt;/code&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Install &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rddtools&lt;/code&gt;
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;yum &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;cairo-devel libxml2-devel pango-devel pango libpng-devel freetype freetype-devel libart_lgpl-devel 
 &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /opt &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;wget http://oss.oetiker.ch/rrdtool/pub/rrdtool-1.4.5.tar.gz 
 &lt;span class=&quot;nb&quot;&gt;sudo tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-zxvf&lt;/span&gt; rrdtool-1.4.5.tar.gz 
 &lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;rrdtool-1.4.5 
 &lt;span class=&quot;c&quot;&gt;# export PKG_CONFIG_PATH=/usr/lib/pkgconfig/ ./configure --prefix=/usr/local/rrdtool &lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;make 
 &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;make &lt;span class=&quot;nb&quot;&gt;install 
 cp&lt;/span&gt; /opt/rrdtool-1.4.5/bin/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; usr/local/bin/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;Install &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;snmpwalk&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;After looking around I need to install &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;net-snmp-utils&lt;/code&gt;. I added this to the initial installation items above. Lame.&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Done!&lt;/strong&gt; &lt;img src=&quot;https://www.briglamoreaux.com/assets/images/cacti.png&quot; alt=&quot;Cacti&quot; /&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;I’ll configure cacti in another post. This was too much to get it installed.&lt;/p&gt;

&lt;h2 id=&quot;extra&quot;&gt;Extra&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;Install MySql Workbench
    &lt;ul&gt;
      &lt;li&gt;Download and install
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;dpkg &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; mysql-workbench-gpl-5.2.32-1ubu1010-i386.deb
 &lt;span class=&quot;c&quot;&gt;# It said I had missing references. libzip1 and python-pysqlite2&lt;/span&gt;
 apt-get &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;install
 sudo &lt;/span&gt;dpkg &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; mysql-workbench-gpl-5.2.32-1ubu1010-i386.deb
 &lt;span class=&quot;c&quot;&gt;# No issues&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;Mysql workbench is now in the Menu Items&lt;/li&gt;
      &lt;li&gt;When I attempt to connect though I’m told my desktop isn’t allowed to connect. Oh well, save for a future post.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;notes&quot;&gt;Notes&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;The commands for link service and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chkconfig&lt;/code&gt; live in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/sbin&lt;/code&gt; directory.&lt;/li&gt;
  &lt;li&gt;Prepare first by creating service accounts for cacti&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;resources&quot;&gt;Resources&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://dev.mysql.com/downloads/mirror.php?id=401623#mirrors&quot;&gt;MySql Admin Tool&lt;/a&gt; &lt;a href=&quot;http://www.cacti.net/downloads/docs/html/install_unix.html&quot;&gt;Install Cacti on Linux (Not too helpful)&lt;/a&gt; &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.5/en/linux-installation-native.html&quot;&gt;Installing MySQL and getting running&lt;/a&gt; &lt;a href=&quot;http://www.cyberciti.biz/faq/howto-linux-add-user-to-group/&quot;&gt;Add a user to group&lt;/a&gt; &lt;a href=&quot;http://www.yolinux.com/TUTORIALS/LinuxTutorialManagingGroups.html&quot;&gt;Add user and groups&lt;/a&gt; &lt;a href=&quot;http://www.cyberciti.biz/faq/howto-install-rrdtool-on-rhel-linux/&quot;&gt;Install rrdtool on Red Hat&lt;/a&gt;&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>Brig Lamoreaux</name>
        
        
      </author>

      

      
        <category term="cacti" />
      

      
        <summary type="html">I’m going to try this again. I’ve tried to install Cacti once before and had difficulty. Hopefully I can be more successful. I don’t know much about PHP so hopefully that won’t matter.</summary>
      

      
      
    </entry>
  
</feed>
