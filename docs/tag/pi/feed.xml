<?xml version="1.0" encoding="utf-8"?>

<feed xmlns="http://www.w3.org/2005/Atom" >
  <generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator>
  <link href="https://www.briglamoreaux.com/tag/pi/feed.xml" rel="self" type="application/atom+xml" />
  <link href="https://www.briglamoreaux.com/" rel="alternate" type="text/html" />
  <updated>2022-06-13T16:00:33-07:00</updated>
  <id>https://www.briglamoreaux.com/tag/pi/feed.xml</id>

  
  
  

  
    <title type="html">Brig Lamoreaux | </title>
  

  
    <subtitle>Long term storage for a forgetful mind</subtitle>
  

  

  
    
      
    
  

  
  

  
    <entry>
      <title type="html">Boilerplate Raspbian Setup</title>
      <link href="https://www.briglamoreaux.com/2018/08/28/boilerplate-raspbian-setup.html" rel="alternate" type="text/html" title="Boilerplate Raspbian Setup" />
      <published>2018-08-28T00:00:00-07:00</published>
      <updated>2018-08-28T00:00:00-07:00</updated>
      <id>https://www.briglamoreaux.com/2018/08/28/boilerplate-raspbian-setup</id>
      <content type="html" xml:base="https://www.briglamoreaux.com/2018/08/28/boilerplate-raspbian-setup.html">&lt;p&gt;I tend to flash my raspberry pies a lot. Here are the steps I follow to get to my working state.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Flash with latest raspbian image https://www.raspberrypi.org/downloads/raspbian/&lt;/li&gt;
  &lt;li&gt;Add an empty file named &lt;strong&gt;ssh&lt;/strong&gt; to the boot folder&lt;/li&gt;
  &lt;li&gt;Add an empty file called &lt;strong&gt;wpa_supplicant.conf&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;Configure the wireless by creating a file called &lt;strong&gt;wpa_supplicant.conf&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-conf highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;country&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;US&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ctrl_interface&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;DIR&lt;/span&gt;=/&lt;span class=&quot;n&quot;&gt;var&lt;/span&gt;/&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;/&lt;span class=&quot;n&quot;&gt;wpa_supplicant&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GROUP&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;netdev&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;update_config&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;network&lt;/span&gt;={
    &lt;span class=&quot;n&quot;&gt;ssid&lt;/span&gt;=&lt;span class=&quot;s2&quot;&gt;&quot;your_real_wifi_ssid&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scan_ssid&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;psk&lt;/span&gt;=&lt;span class=&quot;s2&quot;&gt;&quot;your_real_password&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;key_mgmt&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;WPA&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;PSK&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Ssh onto the pi with pi@hostname raspberry&lt;/li&gt;
  &lt;li&gt;Update system and Install vim.
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt update &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt full-upgrade &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;vim
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Create my user on the pi
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;adduser username
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Add my user to the sudo’s file.
    &lt;ul&gt;
      &lt;li&gt; Create a new file named &lt;strong&gt;020_username_nopasswd&lt;/strong&gt;  in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/sudoers.d&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;Edit the file as.
        &lt;div class=&quot;language-conf highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ALL&lt;/span&gt;=(&lt;span class=&quot;n&quot;&gt;ALL&lt;/span&gt;) &lt;span class=&quot;n&quot;&gt;NOPASSWD&lt;/span&gt;: &lt;span class=&quot;n&quot;&gt;ALL&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Add my certificate to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.ssh/authorized_keys&lt;/code&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;su username
  &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~
  &lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; .ssh
  &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; .ssh
  vi authorized_keys
  &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~
  &lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;700 ~/.ssh/
  &lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;600 ~/.ssh/authorized_keys
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Disable password authentication
    &lt;ul&gt;
      &lt;li&gt;Edit file &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/ssh/sshd_config&lt;/code&gt;
        &lt;pre&gt;&lt;code class=&quot;language-vi&quot;&gt;  PasswordAuthentication no
&lt;/code&gt;&lt;/pre&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;Restart ssh server&lt;/p&gt;

        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nb&quot;&gt;sudo&lt;/span&gt; /etc/init.d/ssh restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Remove User pi&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;deluser &lt;span class=&quot;nt&quot;&gt;-remove-home&lt;/span&gt; pi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Add alias to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.bashrc&lt;/code&gt;&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'ls -al'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Setup wifi &lt;a href=&quot;https://www.raspberrypi.org/forums/viewtopic.php?t=191252&quot;&gt;https://www.raspberrypi.org/forums/viewtopic.php?t=191252&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Create new user &lt;a href=&quot;https://raspi.tv/2012/how-to-create-a-new-user-on-raspberry-pi&quot;&gt;https://raspi.tv/2012/how-to-create-a-new-user-on-raspberry-pi&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Setup keys &lt;a href=&quot;https://raspi.tv/2012/how-to-set-up-keys-and-disable-password-login-for-ssh-on-your-raspberry-pi&quot;&gt;https://raspi.tv/2012/how-to-set-up-keys-and-disable-password-login-for-ssh-on-your-raspberry-pi&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Update system &lt;a href=&quot;https://www.raspberrypi.org/documentation/raspbian/updating.md&quot;&gt;https://www.raspberrypi.org/documentation/raspbian/updating.md&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Pi setup &lt;a href=&quot;https://blog.jongallant.com/2017/11/raspberrypi-setup/&quot;&gt;https://blog.jongallant.com/2017/11/raspberrypi-setup/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>

      
      
      
      
      

      <author>
          <name>Brig Lamoreaux</name>
        
        
      </author>

      

      
        <category term="software" />
      
        <category term="linux" />
      
        <category term="pi" />
      
        <category term="raspberry" />
      
        <category term="raspbian" />
      

      
        <summary type="html">I tend to flash my raspberry pies a lot. Here are the steps I follow to get to my working state.</summary>
      

      
      
    </entry>
  
</feed>
