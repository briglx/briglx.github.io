<?xml version="1.0" encoding="utf-8"?>

<feed xmlns="http://www.w3.org/2005/Atom" >
  <generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator>
  <link href="https://www.briglamoreaux.com/tag/cargo/feed.xml" rel="self" type="application/atom+xml" />
  <link href="https://www.briglamoreaux.com/" rel="alternate" type="text/html" />
  <updated>2023-06-21T04:58:07+00:00</updated>
  <id>https://www.briglamoreaux.com/tag/cargo/feed.xml</id>

  
  
  

  
    <title type="html">Brig Lamoreaux | </title>
  

  
    <subtitle>Long term storage for a forgetful mind</subtitle>
  

  

  
    
      
    
  

  
  

  
    <entry>
      <title type="html">Debugging a Tomcat Application</title>
      <link href="https://www.briglamoreaux.com/2011/07/05/debugging-a-tomcat-application.html" rel="alternate" type="text/html" title="Debugging a Tomcat Application" />
      <published>2011-07-05T00:00:00+00:00</published>
      <updated>2011-07-05T00:00:00+00:00</updated>
      <id>https://www.briglamoreaux.com/2011/07/05/debugging-a-tomcat-application</id>
      <content type="html" xml:base="https://www.briglamoreaux.com/2011/07/05/debugging-a-tomcat-application.html">&lt;p&gt;I primarily develop web applications but have been out of it for a while and needed to look at old code for a reminder. Well here is how I configure a project to debug in tomcat.&lt;/p&gt;

&lt;p&gt;There are two parts to debugging the application&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Configuring the Maven Cargo plug-in. (Deploys the project to Tomcat with debug args)&lt;/li&gt;
  &lt;li&gt;Attaching Eclipse to a remote process.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;configure-maven-cargo&quot;&gt;Configure Maven Cargo&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Setting&lt;/th&gt;
      &lt;th&gt;Description&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${cargo.wait}&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Setting &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo.wait&lt;/code&gt; to true will pause tomcat once it’s started so you can debug&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${catalina.home}&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;catalina.home&lt;/code&gt; should point to the home folder of tomcat &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/opt/tomcat/&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;${project-name}&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;The name of the project and war name.&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;div class=&quot;language-xml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.codehaus.cargo&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;cargo-maven2-plugin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;wait&amp;gt;&lt;/span&gt;${cargo.wait}&lt;span class=&quot;nt&quot;&gt;&amp;lt;/wait&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;container&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;containerId&amp;gt;&lt;/span&gt;tomcat6x&lt;span class=&quot;nt&quot;&gt;&amp;lt;/containerId&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;type&amp;gt;&lt;/span&gt;installed&lt;span class=&quot;nt&quot;&gt;&amp;lt;/type&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;home&amp;gt;&lt;/span&gt;${catalina.home}&lt;span class=&quot;nt&quot;&gt;&amp;lt;/home&amp;gt;&lt;/span&gt;                                 
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/container&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;home&amp;gt;&lt;/span&gt;target/tomcat6x&lt;span class=&quot;nt&quot;&gt;&amp;lt;/home&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;properties&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;c&quot;&gt;&amp;lt;!-- Debug Mode On --&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;cargo.jvmargs&amp;gt;&lt;/span&gt;-Xdebug -Xnoagent -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n -Xms512m -Xmx1024m -XX:MaxPermSize=256m -XX:+UseParNewGC -XX:+UseConcMarkSweepGC&lt;span class=&quot;nt&quot;&gt;&amp;lt;/cargo.jvmargs&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;c&quot;&gt;&amp;lt;!-- Debug Mode Off --&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;c&quot;&gt;&amp;lt;!--&amp;lt;cargo.jvmargs&amp;gt;-Xnoagent -Xms512m -Xmx1024m -XX:MaxPermSize=256m -XX:+UseParNewGC -XX:+UseConcMarkSweepGC&amp;lt;/cargo.jvmargs&amp;gt;--&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;deployables&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;deployable&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;nt&quot;&gt;&amp;lt;location&amp;gt;&lt;/span&gt;target/${project-name}.war}&lt;span class=&quot;nt&quot;&gt;&amp;lt;/location&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;nt&quot;&gt;&amp;lt;pingURL&amp;gt;&lt;/span&gt;http://localhost:8080/${project-name}&lt;span class=&quot;nt&quot;&gt;&amp;lt;/pingURL&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;nt&quot;&gt;&amp;lt;properties&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;nt&quot;&gt;&amp;lt;context&amp;gt;&lt;/span&gt;${project-name}&lt;span class=&quot;nt&quot;&gt;&amp;lt;/context&amp;gt;&lt;/span&gt;
                    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;nt&quot;&gt;&amp;lt;/deployable&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;/deployables&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;              
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;attach-to-remote-process&quot;&gt;Attach to Remote Process&lt;/h2&gt;

&lt;p&gt;Create a new Debug Configuration in Eclipse&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Click on Run -&amp;gt; Debug Configurations&lt;/li&gt;
  &lt;li&gt;Select Remote Java Application&lt;/li&gt;
  &lt;li&gt;Press the ‘New’ Button&lt;/li&gt;
  &lt;li&gt;Give it a name like ‘MyWebApp’&lt;/li&gt;
  &lt;li&gt;Click Browse to select the Project that has the code you want to debug&lt;/li&gt;
  &lt;li&gt;Make sure the Port matches what was configured in Cargo. In this case port 8787&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;putting-it-together&quot;&gt;Putting it Together&lt;/h2&gt;

&lt;p&gt;To debug just do the following now:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;From the command line in the project run
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mvn &lt;span class=&quot;nt&quot;&gt;-Dcargo&lt;/span&gt;.wait&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;true &lt;/span&gt;cargo:start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;From eclipse select &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Debug - MyWebApp&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There you go, the project can now be launched and debugged in tomcat.&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>Brig Lamoreaux</name>
        
        
      </author>

      

      
        <category term="cargo" />
      
        <category term="eclipse" />
      
        <category term="maven" />
      
        <category term="tomcat" />
      

      
        <summary type="html">I primarily develop web applications but have been out of it for a while and needed to look at old code for a reminder. Well here is how I configure a project to debug in tomcat.</summary>
      

      
      
    </entry>
  
</feed>
