<?xml version="1.0" encoding="utf-8"?>

<feed xmlns="http://www.w3.org/2005/Atom" >
  <generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator>
  <link href="https://www.briglamoreaux.com/tag/ejabberd/feed.xml" rel="self" type="application/atom+xml" />
  <link href="https://www.briglamoreaux.com/" rel="alternate" type="text/html" />
  <updated>2022-06-13T17:21:20-07:00</updated>
  <id>https://www.briglamoreaux.com/tag/ejabberd/feed.xml</id>

  
  
  

  
    <title type="html">Brig Lamoreaux | </title>
  

  
    <subtitle>Long term storage for a forgetful mind</subtitle>
  

  

  
    
      
    
  

  
  

  
    <entry>
      <title type="html">Installing Ejabberd - Part II</title>
      <link href="https://www.briglamoreaux.com/2011/04/06/installing-ejabberd-part-ii.html" rel="alternate" type="text/html" title="Installing Ejabberd - Part II" />
      <published>2011-04-06T00:00:00-07:00</published>
      <updated>2011-04-06T00:00:00-07:00</updated>
      <id>https://www.briglamoreaux.com/2011/04/06/installing-ejabberd-part-ii</id>
      <content type="html" xml:base="https://www.briglamoreaux.com/2011/04/06/installing-ejabberd-part-ii.html">&lt;p&gt;So my &lt;a href=&quot;/2011/04/06/installing-ejabberd.html&quot;&gt;first attempt&lt;/a&gt; at installing ejabberd ended with the app not being able to start up.&lt;/p&gt;

&lt;p&gt;I think this could be due to the fact that I was monkeying around with adding the ejabberd user and group and also the possiblity of a bad setup because &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/sbin&lt;/code&gt; isn’t in the path. So I’m going to try again on a new clean server.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;First I made sure the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/usr/sbin&lt;/code&gt; was in the path.
    &lt;ul&gt;
      &lt;li&gt;Edit &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/profile&lt;/code&gt; to include the path
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;:/usr/sbin 
 &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;PATH
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;Edit roots &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.bash_profile&lt;/code&gt;
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;:/usr/sbin 
 &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;PATH
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Download and install. See &lt;a href=&quot;/2011/04/06/installing-ejabberd.html&quot;&gt;first attempt&lt;/a&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nb&quot;&gt;sudo&lt;/span&gt; ./ejabberd-2.1.6-linux-x86_64-installer.bin 
 Installation Directory &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;/opt/ejabberd-2.1.6]: 
 Cluster &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;y/N]: n
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Run
    &lt;ul&gt;
      &lt;li&gt;I’m going to to a test run with just the admin. I don’t want to create an ejabberd user yet.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Start service
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nb&quot;&gt;sudo&lt;/span&gt; /opt/ejabberd-2.1.6/bin/ejabberdctl start 
 &lt;span class=&quot;nb&quot;&gt;sudo&lt;/span&gt; /opt/ejabberd-2.1.6/bin/ejabberdctl status 
 &lt;span class=&quot;c&quot;&gt;# The node ejabberd@localhost is started with status: &lt;/span&gt;
 &lt;span class=&quot;c&quot;&gt;# started ejabberd 2.1.6 is running in that node&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;I don’t see a crash dump so this looks good.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Add an account with admin privileges
    &lt;ul&gt;
      &lt;li&gt;Add user
        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nb&quot;&gt;sudo&lt;/span&gt; /bin/ejabberdctl register testuser ca7bf9e4b2.devols.phoenix.edu Welcome1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;Edit configuration
        &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; {
  acl, 
  admins, 
  {user, &quot;admin&quot;, &quot;ca7bf9e4b2.devols.phoenix.edu&quot;}, 
  {user, &quot;brlamore&quot;, &quot;ca7bf9e4b2.devols.phoenix.edu&quot;}
 }
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;

    &lt;p&gt;Hmm. That didn’t work very well for me. I keep getting the error&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; application: ejabberd
 exited: &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;bad_return,
             &lt;span class=&quot;o&quot;&gt;{{&lt;/span&gt;ejabberd_app,start,[normal,[]]&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,
                 &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'EXIT'&lt;/span&gt;,
                     &lt;span class=&quot;o&quot;&gt;{{&lt;/span&gt;case_clause,
                         &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;acl,admin,
                             &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;user,&lt;span class=&quot;s2&quot;&gt;&quot;admin&quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&quot;ca7bf9e4b2.devols.phoenix.edu&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,
                             &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;user,&lt;span class=&quot;s2&quot;&gt;&quot;brlamore&quot;&lt;/span&gt;,
                                 &lt;span class=&quot;s2&quot;&gt;&quot;ca7bf9e4b2.devols.phoenix.edu&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;}}}&lt;/span&gt;,
                     &lt;span class=&quot;o&quot;&gt;[{&lt;/span&gt;ejabberd_config,process_term,2&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,
                     &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ejabberd_config,load_file,1&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,
                     &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ejabberd_config,start,0&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,
                     &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ejabberd_app,start,2&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,
                     &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;application_master,start_it_old,4&lt;span class=&quot;o&quot;&gt;}]}}}}&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt;: temporary
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;Let’s just have one admin account&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;Restart&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Connect with Client
    &lt;ul&gt;
      &lt;li&gt;Added second user&lt;/li&gt;
      &lt;li&gt;Opened two chat clients on two computers and added the contacts on each roster&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Success!&lt;/p&gt;

&lt;h2 id=&quot;next-steps&quot;&gt;Next Steps&lt;/h2&gt;

&lt;p&gt;OK now I have the server up and running and can communicate between two users. I want to look into:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Auto populate the roster for a user&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.troubleshooters.com/linux/prepostpath.htm&quot;&gt;Adding Directory to PATH&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>

      
      
      
      
      

      <author>
          <name>Brig Lamoreaux</name>
        
        
      </author>

      

      
        <category term="ejabberd" />
      
        <category term="path" />
      
        <category term="tutorial" />
      

      
        <summary type="html">So my first attempt at installing ejabberd ended with the app not being able to start up.</summary>
      

      
      
    </entry>
  
</feed>
