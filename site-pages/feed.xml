<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator><link href="https://briglx.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://briglx.github.io/" rel="alternate" type="text/html" /><updated>2022-05-24T07:02:09-07:00</updated><id>https://briglx.github.io/feed.xml</id><title type="html">Brig Lamoreaux</title><subtitle>Long term storage for a forgetful mind</subtitle><entry><title type="html">Finding Missing Images</title><link href="https://briglx.github.io/2022/05/20/finding-missing-images.html" rel="alternate" type="text/html" title="Finding Missing Images" /><published>2022-05-20T00:00:00-07:00</published><updated>2022-05-20T00:00:00-07:00</updated><id>https://briglx.github.io/2022/05/20/finding-missing-images</id><content type="html" xml:base="https://briglx.github.io/2022/05/20/finding-missing-images.html">&lt;p&gt;As part of my blog migration, I discovered one of my images wasn’t showing because it had the wrong case &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;myimage.png&lt;/code&gt; vs &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MyImage.png&lt;/code&gt;. This is how I checked what other images were named wrong or missing.&lt;/p&gt;

&lt;p&gt;My strategy is to:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;Get the list of images I have&lt;/li&gt;
  &lt;li&gt;Find all the image referenced in the blog&lt;/li&gt;
  &lt;li&gt;Alert where the reference name &amp;lt;&amp;gt; an actual name&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;getting-the-list-of-images&quot;&gt;Getting the list of images&lt;/h2&gt;

&lt;p&gt;This is really easy&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;ls&lt;/span&gt; /images &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; images_list.csv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;getting-the-images-refereced&quot;&gt;Getting the images refereced&lt;/h2&gt;

&lt;p&gt;This is a bit trickier because I have to look inside the files. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grep&lt;/code&gt; seems like a good way to do this.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Er&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/images/(.+)'&lt;/span&gt; _posts &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; referenced_images.csv

&lt;span class=&quot;nb&quot;&gt;head &lt;/span&gt;referenced_images.csv
_posts/2014-07-31-what-version-of-php-am-i-running.md:cover: assets/images/phpapache.jpg
_posts/2011-02-17-a-tour-of-jmeter-part-1.md:  You should now have two elements. &lt;span class=&quot;o&quot;&gt;![&lt;/span&gt;Record1]&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;/assets/images/Record1.png&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
_posts/2011-02-17-a-tour-of-jmeter-part-1.md:  JMeter now has your actions recorded &lt;span class=&quot;o&quot;&gt;![&lt;/span&gt;Record2]&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;/assets/images/Record2.png&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I don’t need all the info retured. ow do I just get the image name part.&lt;/p&gt;

&lt;p&gt;looking at &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;man grep&lt;/code&gt; the options &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-o -h&lt;/code&gt; look promising.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; -o, --only-matching
              Print only the matched (non-empty) parts of a matching line, with each such part on a  separate  output
              line.

 -h, --no-filename
              Suppress  the  prefixing  of file names on output.  This is the default when there is only one file (or
              only standard input) to search.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Eroh&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/images/(.+)'&lt;/span&gt; _posts &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; referenced_images.csv

&lt;span class=&quot;nb&quot;&gt;head &lt;/span&gt;referenced_images.csv
/images/phpapache.jpg
/images/Record1.png&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
/images/Record2.png&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
/images/SBCLOptions.Png&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I’d like to just get the image name though. Pearl has a &lt;a href=&quot;https://perldoc.perl.org/perlre#Lookaround-Assertions&quot;&gt;look-around assersion&lt;/a&gt; syntax which will check for things before or after the pattern match.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Find a word between foo and bar&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-oP&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'(?&amp;lt;=foo )\w+(?= bar)'&lt;/span&gt; test.txt

&lt;span class=&quot;c&quot;&gt;# Shortcut for the same query&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-oP&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'foo \K\w+(?= bar)'&lt;/span&gt; test.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I can modify my query to drop everything before the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;\K&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rPoh&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/images/\K.+(png|jpe?g|gif)'&lt;/span&gt; _posts &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; referenced_images.csv
&lt;span class=&quot;nb&quot;&gt;head &lt;/span&gt;referenced_images.csv
phpapache.jpg
Record1.png
Record2.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Nice, now I just need to loop over each one in the reference and see if there is a match in the actualls.&lt;/p&gt;

&lt;h2 id=&quot;finding-the-outlyers&quot;&gt;Finding the outlyers&lt;/h2&gt;

&lt;p&gt;I’m sure there is an easier way to do this.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;while &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;l&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$l&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$l&lt;/span&gt; image_list.csv&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt; &amp;lt; referenced_images.csv  &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; results.csv

&lt;span class=&quot;nb&quot;&gt;head &lt;/span&gt;results.csv
phpapache.jpg,1
Record1.png,0
Record2.png,0
trainingvalidation

&lt;span class=&quot;nb&quot;&gt;cat &lt;/span&gt;results.csv | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;' 0'&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;awk&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'{print $1}'&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; missing_images

&lt;span class=&quot;nb&quot;&gt;head &lt;/span&gt;missing_images
Record1.png,0
Record2.png,0
CropperCapture88.png,0

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now I have my list but don’t know if it’s just missing or has a case of bad formatting.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;nb&quot;&gt;awk&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'{print $1;}'&lt;/span&gt; missing_images

&lt;span class=&quot;k&quot;&gt;while &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;l&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$l&lt;/span&gt;,&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-ic&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$l&lt;/span&gt; image_list.csv&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt; &amp;lt; missing_images &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; wrong_case.csv

&lt;span class=&quot;nb&quot;&gt;head
&lt;/span&gt;Record1.png,1
Record2.png,1
CropperCapture%5B12%5D.png,0

&lt;span class=&quot;c&quot;&gt;# 1 means it's named wrong&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# 0 means it's not in the image list&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Can I grep out a group match https://unix.stackexchange.com/questions/13466/can-grep-output-only-specified-groupings-that-match&lt;/li&gt;
  &lt;li&gt;Basic Grep info https://linuxize.com/post/regular-expressions-in-grep/&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Brig Lamoreaux</name></author><category term="blogging" /><category term="sed" /><category term="awk" /><category term="linux" /><category term="software" /><summary type="html">As part of my blog migration, I discovered one of my images wasn’t showing because it had the wrong case myimage.png vs MyImage.png. This is how I checked what other images were named wrong or missing.</summary></entry><entry><title type="html">Updating and Migrating Confluence</title><link href="https://briglx.github.io/2018/09/13/updating-and-migrating-confluence.html" rel="alternate" type="text/html" title="Updating and Migrating Confluence" /><published>2018-09-13T00:00:00-07:00</published><updated>2018-09-13T00:00:00-07:00</updated><id>https://briglx.github.io/2018/09/13/updating-and-migrating-confluence</id><content type="html" xml:base="https://briglx.github.io/2018/09/13/updating-and-migrating-confluence.html">&lt;p&gt;I started hosting my wiki on Azure way back in 2016. The other day I received a message that I was  not using managed disks and I should upgrade. So I pushed the upgrade button and kicked off a two day outage which resulted in me pulling my hair out, migrating, looking at logs, and changing databases.&lt;/p&gt;

&lt;h2 id=&quot;first-architecture&quot;&gt;First Architecture&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/confluencev1.png&quot; alt=&quot;Confluence v1 Architecture&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The first architecture is really basic. Just two vms. One with confluence installed on it and the other with Postgresql. I configured a separate nsg for each one. Looking back I could have had just one.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;App Server
    &lt;ul&gt;
      &lt;li&gt;Confluence 5.9.6&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;CONFLUENCE_HOME&amp;gt; = /var/atlassian/application-data/confluence/&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;CONFLUENCE_INSTALLATION&amp;gt; = /opt/atlassian/confluence/&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt; Database
    &lt;ul&gt;
      &lt;li&gt;Ubuntu 14.04 64-bit&lt;/li&gt;
      &lt;li&gt;PostgreSQL 9.3.12&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;trouble-after-reboot&quot;&gt;Trouble after Reboot&lt;/h2&gt;

&lt;p&gt;When I rebooted the machine, after a failed managed disk migration, I wasn’t able to log in. It took me a while &lt;a href=&quot;https://community.atlassian.com/t5/Confluence-questions/Failed-to-Login-after-Reboot-Confluence-5-9-6/qaq-p/889565&quot;&gt;to figure out what happened&lt;/a&gt;. Turns out I had two instances of confluence running on the app server. This made me think I should do a few things:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Make a backup&lt;/li&gt;
  &lt;li&gt;Clean up the installation&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Instead of cleaning up the installation I thought I would try a new architecture&lt;/p&gt;

&lt;h2 id=&quot;new-architecture&quot;&gt;New Architecture&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/confluencev2.png&quot; alt=&quot;confluencev2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I replaced the IaaS database for the Azure Database Postgresql PaaS solution. I don’t want to mess around with managing a database. One less thing to think about.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;App Server
    &lt;ul&gt;
      &lt;li&gt;Confluence 5.9.6 (Can’t change)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt; Database
    &lt;ul&gt;
      &lt;li&gt;PostgreSQL 9.5&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Confluence does not support Postgres 9.6, and will throw error messages like the following: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;org.postgresql.util.PSQLException: ERROR: column am.amcanorder does not exist&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;future-work&quot;&gt;Future work&lt;/h2&gt;

&lt;p&gt;Turns out I had to use the export restore option with Confluence. I though I would be able to setup the new environment and just perform a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pg_dump&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pg_restore&lt;/code&gt;. For some reason that didn’t work.&lt;/p&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Restore to Azure DB Postgres &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/postgresql/quickstart-create-server-database-portal&quot;&gt;https://docs.microsoft.com/en-us/azure/postgresql/quickstart-create-server-database-portal&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;How to dump and restore &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/postgresql/howto-migrate-using-dump-and-restore&quot;&gt;https://docs.microsoft.com/en-us/azure/postgresql/howto-migrate-using-dump-and-restore&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Example of Confluence Setup &lt;a href=&quot;http://comtronic.com.au/how-to-install-confluence-on-centos7-with-postgresql/&quot;&gt;http://comtronic.com.au/how-to-install-confluence-on-centos7-with-postgresql/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Remove ubuntu services &lt;a href=&quot;https://help.ubuntu.com/community/UbuntuBootupHowto&quot;&gt;https://help.ubuntu.com/community/UbuntuBootupHowto&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Brig Lamoreaux</name></author><category term="confluence" /><category term="linux" /><category term="ops" /><category term="postgresql" /><category term="software" /><summary type="html">I started hosting my wiki on Azure way back in 2016. The other day I received a message that I was  not using managed disks and I should upgrade. So I pushed the upgrade button and kicked off a two day outage which resulted in me pulling my hair out, migrating, looking at logs, and changing databases.</summary></entry><entry><title type="html">Boilerplate Raspbian Setup</title><link href="https://briglx.github.io/2018/08/28/boilerplate-raspbian-setup.html" rel="alternate" type="text/html" title="Boilerplate Raspbian Setup" /><published>2018-08-28T00:00:00-07:00</published><updated>2018-08-28T00:00:00-07:00</updated><id>https://briglx.github.io/2018/08/28/boilerplate-raspbian-setup</id><content type="html" xml:base="https://briglx.github.io/2018/08/28/boilerplate-raspbian-setup.html">&lt;p&gt;I tend to flash my raspberry pies a lot. Here are the steps I follow to get to my working state.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Flash with latest raspbian image https://www.raspberrypi.org/downloads/raspbian/&lt;/li&gt;
  &lt;li&gt;Add an empty file named &lt;strong&gt;ssh&lt;/strong&gt; to the boot folder&lt;/li&gt;
  &lt;li&gt;Add an empty file called &lt;strong&gt;wpa_supplicant.conf&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;Configure the wireless by creating a file called &lt;strong&gt;wpa_supplicant.conf&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-conf highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;country&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;US&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ctrl_interface&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;DIR&lt;/span&gt;=/&lt;span class=&quot;n&quot;&gt;var&lt;/span&gt;/&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;/&lt;span class=&quot;n&quot;&gt;wpa_supplicant&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GROUP&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;netdev&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;update_config&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;network&lt;/span&gt;={
    &lt;span class=&quot;n&quot;&gt;ssid&lt;/span&gt;=&lt;span class=&quot;s2&quot;&gt;&quot;your_real_wifi_ssid&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scan_ssid&lt;/span&gt;=&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;psk&lt;/span&gt;=&lt;span class=&quot;s2&quot;&gt;&quot;your_real_password&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;key_mgmt&lt;/span&gt;=&lt;span class=&quot;n&quot;&gt;WPA&lt;/span&gt;-&lt;span class=&quot;n&quot;&gt;PSK&lt;/span&gt;
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Ssh onto the pi with pi@hostname raspberry&lt;/li&gt;
  &lt;li&gt;Update system and Install vim.
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt update &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt full-upgrade &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;vim
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Create my user on the pi
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;adduser username
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Add my user to the sudo’s file.
    &lt;ul&gt;
      &lt;li&gt; Create a new file named &lt;strong&gt;020_username_nopasswd&lt;/strong&gt;  in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/sudoers.d&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;Edit the file as.
        &lt;div class=&quot;language-conf highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ALL&lt;/span&gt;=(&lt;span class=&quot;n&quot;&gt;ALL&lt;/span&gt;) &lt;span class=&quot;n&quot;&gt;NOPASSWD&lt;/span&gt;: &lt;span class=&quot;n&quot;&gt;ALL&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Add my certificate to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.ssh/authorized_keys&lt;/code&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;su username
  &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~
  &lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; .ssh
  &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; .ssh
  vi authorized_keys
  &lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ~
  &lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;700 ~/.ssh/
  &lt;span class=&quot;nb&quot;&gt;chmod &lt;/span&gt;600 ~/.ssh/authorized_keys
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Disable password authentication
    &lt;ul&gt;
      &lt;li&gt;Edit file &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/ssh/sshd_config&lt;/code&gt;
        &lt;pre&gt;&lt;code class=&quot;language-vi&quot;&gt;  PasswordAuthentication no
&lt;/code&gt;&lt;/pre&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;Restart ssh server&lt;/p&gt;

        &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nb&quot;&gt;sudo&lt;/span&gt; /etc/init.d/ssh restart
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Remove User pi&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;deluser &lt;span class=&quot;nt&quot;&gt;-remove-home&lt;/span&gt; pi
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Add alias to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.bashrc&lt;/code&gt;&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nb&quot;&gt;alias &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'ls -al'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Setup wifi &lt;a href=&quot;https://www.raspberrypi.org/forums/viewtopic.php?t=191252&quot;&gt;https://www.raspberrypi.org/forums/viewtopic.php?t=191252&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Create new user &lt;a href=&quot;https://raspi.tv/2012/how-to-create-a-new-user-on-raspberry-pi&quot;&gt;https://raspi.tv/2012/how-to-create-a-new-user-on-raspberry-pi&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Setup keys &lt;a href=&quot;https://raspi.tv/2012/how-to-set-up-keys-and-disable-password-login-for-ssh-on-your-raspberry-pi&quot;&gt;https://raspi.tv/2012/how-to-set-up-keys-and-disable-password-login-for-ssh-on-your-raspberry-pi&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Update system &lt;a href=&quot;https://www.raspberrypi.org/documentation/raspbian/updating.md&quot;&gt;https://www.raspberrypi.org/documentation/raspbian/updating.md&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Pi setup &lt;a href=&quot;https://blog.jongallant.com/2017/11/raspberrypi-setup/&quot;&gt;https://blog.jongallant.com/2017/11/raspberrypi-setup/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Brig Lamoreaux</name></author><category term="software" /><category term="linux" /><category term="pi" /><category term="raspberry" /><category term="raspbian" /><summary type="html">I tend to flash my raspberry pies a lot. Here are the steps I follow to get to my working state.</summary></entry><entry><title type="html">More Time Doesn’t Always Help</title><link href="https://briglx.github.io/2018/06/28/more-time-doesnt-always-help.html" rel="alternate" type="text/html" title="More Time Doesn’t Always Help" /><published>2018-06-28T00:00:00-07:00</published><updated>2018-06-28T00:00:00-07:00</updated><id>https://briglx.github.io/2018/06/28/more-time-doesnt-always-help</id><content type="html" xml:base="https://briglx.github.io/2018/06/28/more-time-doesnt-always-help.html">&lt;p&gt;Continuing on with Keras, there is a simple IMDB data set with movie ratings.  Building a quick model and training over a few epochs shows the training accuracy goes up to the high 90%. However, the validation accuracy hovers around 87%.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/trainingvalidationaccuracy.png&quot; alt=&quot;TrainingValidationAccuracy&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The model is over-fitting the data somehow. No matter how many more epochs I run, the validation won’t get better.&lt;/p&gt;</content><author><name>Brig Lamoreaux</name></author><category term="software" /><category term="keras" /><category term="machine-learning" /><category term="python" /><category term="tensorflow" /><summary type="html">Continuing on with Keras, there is a simple IMDB data set with movie ratings.  Building a quick model and training over a few epochs shows the training accuracy goes up to the high 90%. However, the validation accuracy hovers around 87%.</summary></entry><entry><title type="html">Surprising Results with Python Thumbnails</title><link href="https://briglx.github.io/2018/04/13/surprising-results-with-python-thumbnails.html" rel="alternate" type="text/html" title="Surprising Results with Python Thumbnails" /><published>2018-04-13T00:00:00-07:00</published><updated>2018-04-13T00:00:00-07:00</updated><id>https://briglx.github.io/2018/04/13/surprising-results-with-python-thumbnails</id><content type="html" xml:base="https://briglx.github.io/2018/04/13/surprising-results-with-python-thumbnails.html">&lt;p&gt;I’ve been working with images recently and am using a technique for a hashing algorithm. This technique resized the image to a 9x8 gray scale image.&lt;/p&gt;

&lt;p&gt;I found five different ways to do it with a few surprising results:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;cv2&lt;/li&gt;
  &lt;li&gt;pillow&lt;/li&gt;
  &lt;li&gt;skimage&lt;/li&gt;
  &lt;li&gt;two custom gray scale functions&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;the-code&quot;&gt;The Code&lt;/h2&gt;

&lt;p&gt;The first part of the code loads the image file, covert it to black and white, and then resizes it down to an 9x8 thumbnail.&lt;/p&gt;

&lt;p&gt;The rgb3gray and rgb2gray2 methods are custom functions that attempt to convert an RGB [n,d,3] matrix into a gray scale.&lt;/p&gt;

&lt;p&gt;The second part of of the code uses matplotlib to show the thumbnails.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;import os
import sys

import cv2
import numpy as np

import matplotlib.pyplot as plt

from PIL import Image
from skimage import io

from skimage import transform as skitr

hash_size=8

cv2Image = cv2.imread(fileName)
cv2Image = cv2.cvtColor(cv2Image, cv2.COLOR_BGR2GRAY)                            
cv2Image = cv2.resize(cv2Image, (hash_size +1 , hash_size))

pillowImage = Image.open(fileName)
pillowImage = pillowImage.convert('LA')
pillowImage = pillowImage.resize((9,8))

skImage = io.imread(fileName, as_grey=True)
skImage = skitr.resize(skImage, (hash_size, hash_size+1))
                                 
 #  Use CV2 to load and resize image as original
originalImage = resizeImage(cv2.imread(fileName))   
rgb2grayImage = rgb2gray(originalImage)
rgb2grayImage2 = rgb2gray2(originalImage)                               

# Display the images
fig, axes = plt.subplots(nrows=2, ncols=3)
axes[0, 0].set_title('Original Image')
axes[0, 0].imshow(originalImage, cmap='gray')
axes[0, 0].axis('off')
                                 
axes[0, 1].set_title('CV2 Image')
axes[0, 1].imshow(cv2Image, cmap='gray')
axes[0, 1].axis('off')
                                 
axes[0, 2].set_title('Pillow Image')
axes[0, 2].imshow(pillowImage, cmap='gray')
axes[0, 2].axis('off')
                                 
axes[1, 0].set_title('skimage Image')
axes[1, 0].imshow(skImage, cmap='gray')
axes[1, 0].axis('off')

axes[1, 1].set_title('Rgb2Gray Image')
axes[1, 1].imshow(rgb2grayImage, cmap='gray')
axes[1, 1].axis('off')

axes[1, 2].set_title('Rgb2Gray2 Image')
axes[1, 2].imshow(rgb2grayImage2, cmap='gray')
axes[1, 2].axis('off')

fig.tight_layout()
plt.show()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;the-method&quot;&gt;The Method&lt;/h2&gt;

&lt;p&gt;I took four different images and ran it against the code. I used Cv2 as the baseline for my original image thumbnail. This thumbnail has the RGB colors and is resized.&lt;/p&gt;

&lt;h2 id=&quot;the-results&quot;&gt;The Results&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;Image 1 - Color&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/comparepythonthumbnails01.png&quot; alt=&quot;comparePythonThumbnails01&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Image 2 - Color&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/comparepythonthumbnails02.png&quot; alt=&quot;comparePythonThumbnails02&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Image 3 - Color&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/comparepythonthumbnails03.png&quot; alt=&quot;comparePythonThumbnails03&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Image 4 - Color&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/comparepythonthumbnails04.png&quot; alt=&quot;comparePythonThumbnails04&quot; /&gt;&lt;/p&gt;

&lt;p&gt;There are a few things I noticed:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;CV2 and skimage appear to be identical&lt;/li&gt;
  &lt;li&gt;Cv2 and skimage seem too light and too dark compared to the original&lt;/li&gt;
  &lt;li&gt;Pillow seemed best matching the luminance of the original&lt;/li&gt;
  &lt;li&gt;Rgb2Gray nearly matches the CV2 and skimage&lt;/li&gt;
  &lt;li&gt;Rgb2Gray2 does not produce anything that makes sense. Apparently I have a bug in my code.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;It seems like pillow does a better job at matching the luminance. For the final test, I used Windows Color Filter feature to remove the color from the original image. I used this as my baseline.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Image 1 - Gray Scaled&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/comparepythonthumbnails01bw.png&quot; alt=&quot;comparePythonThumbnails01bw&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Image 2 - Gray Scaled&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/comparepythonthumbnails02bw.png&quot; alt=&quot;comparePythonThumbnails02bw&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Image 3 - Gray Scale&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/comparepythonthumbnails03bw.png&quot; alt=&quot;comparePythonThumbnails03bw&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Image 4 - Gray Scale&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/comparepythonthumbnails04bw.png&quot; alt=&quot;comparePythonThumbnails04bw&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;After running the images through windows color filter, it appears Pillow does the best job matching the original.&lt;/p&gt;</content><author><name>Brig Lamoreaux</name></author><category term="software" /><category term="python" /><summary type="html">I’ve been working with images recently and am using a technique for a hashing algorithm. This technique resized the image to a 9x8 gray scale image.</summary></entry><entry><title type="html">Checking out TSLearn</title><link href="https://briglx.github.io/2018/03/29/checking-out-tsflow.html" rel="alternate" type="text/html" title="Checking out TSLearn" /><published>2018-03-29T00:00:00-07:00</published><updated>2018-03-29T00:00:00-07:00</updated><id>https://briglx.github.io/2018/03/29/checking-out-tsflow</id><content type="html" xml:base="https://briglx.github.io/2018/03/29/checking-out-tsflow.html">&lt;p&gt;I’m toying around with my new dashcam videos and thought I would try to build a neural network. I found &lt;a href=&quot;https://medium.com/@ageitgey/machine-learning-is-fun-part-3-deep-learning-and-convolutional-neural-networks-f40359318721&quot;&gt;Adam Geitgey’s article&lt;/a&gt; really interesting.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;My setup&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Surface Book&lt;/li&gt;
  &lt;li&gt;Graphics Card GeForce 900M Series (Notebooks)
    &lt;ul&gt;
      &lt;li&gt;GeForce 940M (1 GB)&lt;/li&gt;
      &lt;li&gt;5.0 Compute Capability&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Windows 10 x86_64&lt;/li&gt;
  &lt;li&gt;Python 2.7.14 Anaconda 5.1&lt;/li&gt;
  &lt;li&gt;CUDA 9.0&lt;/li&gt;
  &lt;li&gt;cuDNN v7.1.2 (Mar 21, 2018), for CUDA 9.0&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;TFLearn requires TensorFlow&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Installing TensorFlow - Prerequisites&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;CUDA® Toolkit 9.0.
    &lt;ul&gt;
      &lt;li&gt;Base Installer cuda_9.0.176_win10_network.exe&lt;/li&gt;
      &lt;li&gt;Patch 1 (Released Jan 25, 2018)&lt;/li&gt;
      &lt;li&gt;Patch 3 (Released Mar 5, 2018)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;cuDNN v7.0&lt;/li&gt;
  &lt;li&gt;TensorFlow&lt;/li&gt;
  &lt;li&gt;Python 3&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Step&lt;/p&gt;

&lt;h2 id=&quot;install-cudo-driver&quot;&gt;Install Cudo Driver&lt;/h2&gt;

&lt;p&gt;Check for valid installation&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nvcc &lt;span class=&quot;nt&quot;&gt;--version&lt;/span&gt;

nvcc: NVIDIA &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;R&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Cuda compiler driver
Copyright &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2005-2017 NVIDIA Corporation
Built on Fri_Sep__1_21:08:32_Central_Daylight_Time_2017
Cuda compilation tools, release 9.0, V9.0.176
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Build Projects and run device query&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;deviceQuery

deviceQuery Starting...

 CUDA Device Query &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Runtime API&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; version &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CUDART static linking&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

Detected 1 CUDA Capable device&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

Device 0: &lt;span class=&quot;s2&quot;&gt;&quot;GeForce GPU&quot;&lt;/span&gt;
  CUDA Driver Version / Runtime Version          9.0 / 9.0
  CUDA Capability Major/Minor version number:    5.0
  Total amount of global memory:                 1024 MBytes &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1073741824 bytes&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt; 3&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Multiprocessors, &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;128&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; CUDA Cores/MP:     384 CUDA Cores
  GPU Max Clock rate:                            993 MHz &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.99 GHz&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  Memory Clock rate:                             2505 Mhz
  Memory Bus Width:                              64-bit
  L2 Cache Size:                                 1048576 bytes
  Maximum Texture Dimension Size &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;x,y,z&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;         &lt;span class=&quot;nv&quot;&gt;1D&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;65536&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, &lt;span class=&quot;nv&quot;&gt;2D&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;65536, 65536&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, &lt;span class=&quot;nv&quot;&gt;3D&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;4096, 4096, 4096&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  Maximum Layered 1D Texture Size, &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;num&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; layers  &lt;span class=&quot;nv&quot;&gt;1D&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;16384&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, 2048 layers
  Maximum Layered 2D Texture Size, &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;num&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; layers  &lt;span class=&quot;nv&quot;&gt;2D&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=(&lt;/span&gt;16384, 16384&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, 2048 layers
  Total amount of constant memory:               65536 bytes
  Total amount of shared memory per block:       49152 bytes
  Total number of registers available per block: 65536
  Warp size:                                     32
  Maximum number of threads per multiprocessor:  2048
  Maximum number of threads per block:           1024
  Max dimension size of a thread block &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;x,y,z&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;: &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1024, 1024, 64&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  Max dimension size of a grid size    &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;x,y,z&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;: &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2147483647, 65535, 65535&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  Maximum memory pitch:                          2147483647 bytes
  Texture alignment:                             512 bytes
  Concurrent copy and kernel execution:          Yes with 1 copy engine&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  Run &lt;span class=&quot;nb&quot;&gt;time &lt;/span&gt;limit on kernels:                     Yes
  Integrated GPU sharing Host Memory:            No
  Support host page-locked memory mapping:       Yes
  Alignment requirement &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;Surfaces:            Yes
  Device has ECC support:                        Disabled
  CUDA Device Driver Mode &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;TCC or WDDM&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:         WDDM &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Windows Display Driver Model&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  Device supports Unified Addressing &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;UVA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;:      Yes
  Supports Cooperative Kernel Launch:            No
  Supports MultiDevice Co-op Kernel Launch:      No
  Device PCI Domain ID / Bus ID / location ID:   0 / 1 / 0
  Compute Mode:
     &amp;lt; Default &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;multiple host threads can use ::cudaSetDevice&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; with device simultaneously&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;

deviceQuery, CUDA Driver &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; CUDART, CUDA Driver Version &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 9.0, CUDA Runtime Version &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 9.0, NumDevs &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 1
Result &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; PASS

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;install-cudnn&quot;&gt;Install cuDNN&lt;/h2&gt;

&lt;p&gt;Installed Download cuDNN v7.1.2 (Mar 21, 2018), for CUDA 9.0&lt;/p&gt;

&lt;p&gt;Copied files from zip to&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-dos&quot;&gt;\cuda\bin\cudnn64_7.dll to C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v9.1\bin. 
\cuda\include\cudnn.h to C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v9.1\include. 
\cuda\lib\x64\cudnn.lib to C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v9.1\lib\x64.
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;install-python-3&quot;&gt;Install Python 3&lt;/h2&gt;

&lt;p&gt;Tensor Flow requires python three. Use conda to create a new environment&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;conda create &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; py36 &lt;span class=&quot;nv&quot;&gt;python&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;3.6 anaconda

&lt;span class=&quot;c&quot;&gt;# To activate this environment, use:&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# &amp;gt; activate py36&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# To deactivate an active environment, use:&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# &amp;gt; deactivate&lt;/span&gt;

activate py36

conda &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;pip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;install-tslearn&quot;&gt;Install TSLearn&lt;/h2&gt;

&lt;p&gt;pip install tflearn&lt;/p&gt;

&lt;h2 id=&quot;errors&quot;&gt;Errors&lt;/h2&gt;

&lt;p&gt;Must use CUDA 9.0 NOT 9.1&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ImportError: Could not find ‘cudart64_90.dll’. TensorFlow requires that this DLL be installed in a directory that is named in your %PATH% environment variable. Download and install CUDA 9.0 from this URL: &lt;a href=&quot;https://developer.nvidia.com/cuda-toolkit&quot;&gt;https://developer.nvidia.com/cuda-toolkit&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;references&quot;&gt;&lt;strong&gt;References&lt;/strong&gt;&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Tensor Flow on Windows &lt;a href=&quot;https://www.tensorflow.org/install/install_windows&quot;&gt;https://www.tensorflow.org/install/install_windows&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Cudu Installation &lt;a href=&quot;http://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/&quot;&gt;http://docs.nvidia.com/cuda/cuda-installation-guide-microsoft-windows/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Cudo Developer Toolkit &lt;a href=&quot;https://developer.nvidia.com/cuda-downloads?target_os=Windows&amp;amp;target_arch=x86_64&amp;amp;target_version=10&amp;amp;target_type=exenetwork&quot;&gt;https://developer.nvidia.com/cuda-downloads?target_os=Windows&amp;amp;target_arch=x86_64&amp;amp;target_version=10&amp;amp;target_type=exenetwork&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;cuDNN installation &lt;a href=&quot;http://docs.nvidia.com/deeplearning/sdk/cudnn-install/index.html#install-windows&quot;&gt;http://docs.nvidia.com/deeplearning/sdk/cudnn-install/index.html#install-windowshttps://developer.nvidia.com/cudnn&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Brig Lamoreaux</name></author><summary type="html">I’m toying around with my new dashcam videos and thought I would try to build a neural network. I found Adam Geitgey’s article really interesting.</summary></entry><entry><title type="html">Parse Azure Deployment Status</title><link href="https://briglx.github.io/2017/08/24/parse-azure-deployment-status.html" rel="alternate" type="text/html" title="Parse Azure Deployment Status" /><published>2017-08-24T00:00:00-07:00</published><updated>2017-08-24T00:00:00-07:00</updated><id>https://briglx.github.io/2017/08/24/parse-azure-deployment-status</id><content type="html" xml:base="https://briglx.github.io/2017/08/24/parse-azure-deployment-status.html">&lt;p&gt;I’ve been making a lot of deployments that take a while to finish. There is an api call to fetch the status of the operations.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;azure group deployment operation list --name deploymentname --resource-group rgname&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The next step was to parse the json response.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;azure group deployment operation list --name deploymentname --resource-group rgname | python parse.py&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Here is the code &lt;a href=&quot;https://gist.github.com/briglx/d2ff66737195dd810d4a3b959358ed4f&quot;&gt;Parse Azure Deployment Response&lt;/a&gt;&lt;/p&gt;</content><author><name>Brig Lamoreaux</name></author><category term="software" /><category term="azure" /><category term="python" /><summary type="html">I’ve been making a lot of deployments that take a while to finish. There is an api call to fetch the status of the operations.</summary></entry><entry><title type="html">How Long to Deploy a Secure HDInsight Cluster</title><link href="https://briglx.github.io/2017/08/23/how-long-to-deploy-a-secure-hdinsight-cluster.html" rel="alternate" type="text/html" title="How Long to Deploy a Secure HDInsight Cluster" /><published>2017-08-23T00:00:00-07:00</published><updated>2017-08-23T00:00:00-07:00</updated><id>https://briglx.github.io/2017/08/23/how-long-to-deploy-a-secure-hdinsight-cluster</id><content type="html" xml:base="https://briglx.github.io/2017/08/23/how-long-to-deploy-a-secure-hdinsight-cluster.html">&lt;p&gt;It takes a while to build a secure HDInsight cluster. In my case it was about an hour from start to finish.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/secureclusterdeployment.jpg&quot; alt=&quot;SecureClusterDeployment&quot; /&gt;&lt;/p&gt;

&lt;p&gt;About half of the work was setting up the VNet and configuring the Domain Controllers. The HDInsight cluster took about 30 mins which his about normal.&lt;/p&gt;

&lt;p&gt;Some steps were dependent on other steps and also some steps were running asynchronously. I didn’t record when I started the process, so I’m using the time of the first time as my zero. Add a few seconds on for the first step to run.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Deployment step&lt;/th&gt;
      &lt;th&gt;Time from Start (min)&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Availability Set&lt;/td&gt;
      &lt;td&gt;00.00&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Public IP&lt;/td&gt;
      &lt;td&gt;00.08&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Load Balancer&lt;/td&gt;
      &lt;td&gt;00.11&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;VNet&lt;/td&gt;
      &lt;td&gt;00.26&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;BDC Nic&lt;/td&gt;
      &lt;td&gt;00.29&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;PDC Nic&lt;/td&gt;
      &lt;td&gt;00.31&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Storage Account&lt;/td&gt;
      &lt;td&gt;00.31&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;AD BDC VM&lt;/td&gt;
      &lt;td&gt;05.30&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;AD PDC VM&lt;/td&gt;
      &lt;td&gt;05.70&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Prepare BDC Script&lt;/td&gt;
      &lt;td&gt;12.80&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Create AD Forest Script&lt;/td&gt;
      &lt;td&gt;23.90&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Update Vnet DNS1 Script&lt;/td&gt;
      &lt;td&gt;24.10&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Update BDC Nic Script&lt;/td&gt;
      &lt;td&gt;24.90&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Configure BDC Script&lt;/td&gt;
      &lt;td&gt;29.70&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Update Vnet DNS2 Script&lt;/td&gt;
      &lt;td&gt;29.90&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Create Cluster&lt;/td&gt;
      &lt;td&gt;56.00&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</content><author><name>Brig Lamoreaux</name></author><category term="hadoop" /><category term="hdinsight" /><summary type="html">It takes a while to build a secure HDInsight cluster. In my case it was about an hour from start to finish.</summary></entry><entry><title type="html">How I’ve deployed R Models with Microsoft R Server</title><link href="https://briglx.github.io/2017/06/26/how-ive-deployed-r-models-with-microsoft-r-server.html" rel="alternate" type="text/html" title="How I’ve deployed R Models with Microsoft R Server" /><published>2017-06-26T00:00:00-07:00</published><updated>2017-06-26T00:00:00-07:00</updated><id>https://briglx.github.io/2017/06/26/how-ive-deployed-r-models-with-microsoft-r-server</id><content type="html" xml:base="https://briglx.github.io/2017/06/26/how-ive-deployed-r-models-with-microsoft-r-server.html">&lt;p&gt;Many organizations are benefiting from advanced analytics and machine learning. I work with a lot of teams who create amazing data analytics models and who need to then deploy them in a way to be useful. This is what I’ve seen and one way to deploy models.&lt;/p&gt;

&lt;p&gt;Generally deploying models run into two major obstacles technical and organizational. Any solution needs to cover both.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/image2017-2-15-8-11-28.png&quot; alt=&quot;Create and Deploy Analytics Web Services&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Write your models and routines in your local environment.&lt;/li&gt;
  &lt;li&gt;Deploy them as production-ready microservices.&lt;/li&gt;
  &lt;li&gt;Update your models and routines and version the microservice.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The best teams version their models using version control software just as it’s used in software development.&lt;/p&gt;

&lt;h1 id=&quot;step-by-step&quot;&gt;Step by Step&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;Stand up R Server in Azure&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Navigate to Azure portal&lt;/li&gt;
  &lt;li&gt;Spin up an R Server&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/image2017-2-28-14-52-4.png&quot; alt=&quot;Azure R Server Dashboard&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;Open the network port&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/image2017-2-28-14-52-51.png&quot; alt=&quot;image2017-2-28 14-52-51&quot; /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Configure Server&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ssh onto the machine&lt;/li&gt;
  &lt;li&gt;Launch Admin utility and configure password and server&lt;/li&gt;
  &lt;li&gt;
    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /usr/lib64/microsoft-deployr/9.0.1/
&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;dotnet Microsoft.DeployR.Utils.AdminUtil/Microsoft.DeployR.Utils.AdminUtil.dll
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Install RClient&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Download R Client&lt;/li&gt;
  &lt;li&gt;Configure RStudio to use R Client&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Create and Deploy Model&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;## MODEL DEPLOYMENT EXAMPLE ##&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;########################################################## # Load mrsdeploy package on R Server # ##########################################################&lt;/span&gt;
library&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;mrsdeploy&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;########################################################## # Create &amp;amp; Test a Logistic Regression Model # ##########################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Use logistic regression equation of vehicle transmission # in the data set mtcars to estimate the probability of # a vehicle being fitted with a manual transmission # based on horsepower (hp) and weight (wt)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Create glm model with `mtcars` dataset carsModel &amp;lt;- glm(formula = am ~ hp + wt, data = mtcars, family = binomial)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Produce a prediction function that can use the model manualTransmission &amp;lt;- function(hp, wt) { newdata &amp;lt;- data.frame(hp = hp, wt = wt) predict(carsModel, newdata, type = &quot;response&quot;) }&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# test function locally by printing results print(manualTransmission(120, 2.8)) # 0.6418125&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;########################################################## # Log into Microsoft R Server # ##########################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Use `remoteLogin` to authenticate with R Server using # the local admin account. Use session = false so no # remote R session started remoteLogin(&quot;http://localhost:12800&quot;, username = &quot;admin&quot;, password = &quot;&quot;, session = FALSE)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;########################################################## # Publish Model as a Service # ##########################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Publish as service using `publishService()` function from # `mrsdeploy` package. Name service &quot;mtService&quot; and provide # unique version number. Assign service to the variable `api` api &amp;lt;- publishService( &quot;mtService&quot;, code = manualTransmission, model = carsModel, inputs = list(hp = &quot;numeric&quot;, wt = &quot;numeric&quot;), outputs = list(answer = &quot;numeric&quot;), v = &quot;v1.0.0&quot; )&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;########################################################## # Consume Service in R # ##########################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Print capabilities that define the service holdings: service # name, version, descriptions, inputs, outputs, and the # name of the function to be consumed print(api$capabilities())&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Consume service by calling function, `manualTransmission` # contained in this service result &amp;lt;- api$manualTransmission(120, 2.8)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Print response output named `answer` print(result$output(&quot;answer&quot;)) # 0.6418125&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;########################################################## # Get Service-specific Swagger File in R # ##########################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# During this authenticated session, download the # Swagger-based JSON file that defines this service swagger &amp;lt;- api$swagger() cat(swagger, file = &quot;swagger.json&quot;, append = FALSE)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Share Swagger-based JSON with those who need to consume it`&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Use Rest Api&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Inspect swagger.json file&lt;/li&gt;
  &lt;li&gt;Navigate to http://website:12800/api/mtService/v1.0.0/swagger.json&lt;/li&gt;
  &lt;li&gt;Get authorization token with Rest Client&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/image2017-2-28-15-4-18.png&quot; alt=&quot;image2017-2-28 15-4-18&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/image2017-2-28-15-5-42.png&quot; alt=&quot;image2017-2-28 15-5-42&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;Call Web service with token and parameters&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/image2017-2-28-15-14-26.png&quot; alt=&quot;image2017-2-28 15-14-26&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;https://briglx.github.io/assets/images/image2017-2-28-15-14-49.png&quot; alt=&quot;image2017-2-28 15-14-49&quot; /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;resources&quot;&gt;Resources&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;About Deploy R &lt;a href=&quot;https://msdn.microsoft.com/microsoft-r/deployr-about&quot;&gt;https://msdn.microsoft.com/microsoft-r/deployr-about&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Configure R Server for Operationalize &lt;a href=&quot;https://msdn.microsoft.com/en-us/microsoft-r/operationalize/configuration-initial&quot;&gt;https://msdn.microsoft.com/en-us/microsoft-r/operationalize/configuration-initial&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Launch R Server Admin Utility &lt;a href=&quot;https://msdn.microsoft.com/en-us/microsoft-r/operationalize/admin-utility#launch&quot;&gt;https://msdn.microsoft.com/en-us/microsoft-r/operationalize/admin-utility#launch&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Getting started as Data Scientist &lt;a href=&quot;https://msdn.microsoft.com/en-us/microsoft-r/operationalize/data-scientist-get-started&quot;&gt;https://msdn.microsoft.com/en-us/microsoft-r/operationalize/data-scientist-get-started&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Microsoft R Overview &lt;a href=&quot;https://msdn.microsoft.com/en-us/microsoft-r/index&quot;&gt;https://msdn.microsoft.com/en-us/microsoft-r/index&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Getting Started with R &lt;a href=&quot;https://mran.microsoft.com/documents/getting-started/&quot;&gt;https://mran.microsoft.com/documents/getting-started/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;About RServer &lt;a href=&quot;https://msdn.microsoft.com/en-us/microsoft-r/deployr-about&quot;&gt;https://msdn.microsoft.com/en-us/microsoft-r/deployr-about&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;RServer vs &lt;a href=&quot;https://www.reddit.com/r/rstats/comments/3n4dg0/deployr_vs_plumber/&quot;&gt;https://www.reddit.com/r/rstats/comments/3n4dg0/deployr_vs_plumber/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Azure Functions &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/azure-functions/functions-overview&quot;&gt;https://docs.microsoft.com/en-us/azure/azure-functions/functions-overview&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;R Models via web services &lt;a href=&quot;http://blog.algorithmia.com/deploying-r-models-production-web-services/&quot;&gt;http://blog.algorithmia.com/deploying-r-models-production-web-services/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Stack Overflow Deploy R Models &lt;a href=&quot;http://stackoverflow.com/questions/22309236/options-for-deploying-r-models-in-production&quot;&gt;http://stackoverflow.com/questions/22309236/options-for-deploying-r-models-in-production&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Azure Function Continuous Deployment &lt;a href=&quot;https://docs.microsoft.com/en-us/azure/azure-functions/functions-continuous-deployment&quot;&gt;https://docs.microsoft.com/en-us/azure/azure-functions/functions-continuous-deployment&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Brig Lamoreaux</name></author><summary type="html">Many organizations are benefiting from advanced analytics and machine learning. I work with a lot of teams who create amazing data analytics models and who need to then deploy them in a way to be useful. This is what I’ve seen and one way to deploy models.</summary></entry><entry><title type="html">How I fetched data from Hive in R with HDInsight</title><link href="https://briglx.github.io/2017/06/15/how-i-fetched-data-from-hive-in-r-with-hdinsight.html" rel="alternate" type="text/html" title="How I fetched data from Hive in R with HDInsight" /><published>2017-06-15T00:00:00-07:00</published><updated>2017-06-15T00:00:00-07:00</updated><id>https://briglx.github.io/2017/06/15/how-i-fetched-data-from-hive-in-r-with-hdinsight</id><content type="html" xml:base="https://briglx.github.io/2017/06/15/how-i-fetched-data-from-hive-in-r-with-hdinsight.html">&lt;p&gt;I have an HDInsight Spark cluster and wanted to fetch some data out of a Hive table and play around with it in R. I’m using Microsoft R. Here is how I did it.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;mySparkCC&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RxSpark&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;executorMem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1g&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;driverMem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1g&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;executorOverheadMem&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1g&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;numExecutors&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;idleTimeout&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;600&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#3600 is the default&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;persistentRun&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;consoleOutput&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rxSetComputeContext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mySparkCC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rxGetComputeContext&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sdf2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RxHiveData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;select * from hivesampletable LIMIT 100&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rxGetInfo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sdf2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getVarInfo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Brig Lamoreaux</name></author><summary type="html">I have an HDInsight Spark cluster and wanted to fetch some data out of a Hive table and play around with it in R. I’m using Microsoft R. Here is how I did it.</summary></entry></feed>